$('#exampleInputEmail2').val('');
$('#loading-indicator').hide();
<%if @collaborator.present? %>
  if($('#collaborator-<%=@collaborator.user.id%>').length > 0)
  {
      $('#permission-<%=@collaborator.user.id%>').html('<%=@collaborator.permission%>')
  }
  else
  {
      $('#collaborator-list').append("<%= escape_javascript(render 'collaborator' , :collaborator => @collaborator) %>")
  }
    
<%else%>
   if($('#invitation-<%=@invitation.id%>').length ==  0)
   {
      $('#collaborator-list').append("<%= escape_javascript(render 'invitation' , :invitation => @invitation) %>") 
   }
    
<%end%>

$(function() {
  $('.del_circ').click(function(event) {
    $(this).parent().closest('tr').remove();
    var collaborator_id = $(this).context.id.split('_').pop();
    var repo_id = $("#repo_id").val();
    $.ajax({
        type: "delete",
        url: "/repositories/"+repo_id+"/collaborators/"+collaborator_id,
        dataType: "script",
        complete: function(){
        }
    });
  });
});