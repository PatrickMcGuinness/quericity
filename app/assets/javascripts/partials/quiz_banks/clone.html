<div class="menu">
  <div class="container">
    <ul>
      <li class="active"><a href="#/manage_quiz_banks">MANAGE</a></li>
      <li><a ng-href='#/served_quizzes'>SERVE</a></li>
      <li><a href="#/grade">GRADE</a></li>
      <li><a href="#">ANALYZE</a></li>
    </ul>
  </div>
</div>
<div class="row_bottom">
  <div class="container">
    <div class="sub_nav">
      <span class="sub_nav_icon">
        <span class = "glyphicon glyphicon-floppy-disk">
        </span>
      </span>
      <span class="sub_nav_link">
        <a ng-click = 'saveQuiz()' ng-href = '#/manage_quiz_banks'> Save</a>
      </span>
    </div>
    <div class="sub_nav">
      <span class="sub_nav_icon"><span class = "glyphicon glyphicon-remove"></span>
      </span>
      <span class="sub_nav_link">
        <a ng-Click = "cancelQuiz()" ng-href = '#/manage_quiz_banks'>Cancel</a>
      </span>
    </div>
    <div class="sub_nav">
      <span class="sub_nav_icon"><span class = "glyphicon glyphicon-plus-sign"></span></span>
      </span>
      <span class="sub_nav_link">
        <a class = "shownewsection">Add Section</a>
      </span>
    </div>
    <div class="sub_nav pull-right">
      <input type = "Search" placeholder = "Search ..." class = "form-control input-sm" ng-model = "titleFilter",/>
    </div>
    
  </div>
</div>          
            
<div>
  <div class = "col-xs-12">
    <div class = "container">
      <div class = "row">
        <div class = "col-xs-2 left_section" style = "width:282px;">
          <div class = "row"> 
            <div class = "col-xs-10 col-xs-offset-2">
              <strong>
                {{quiz_bank.title}}
              </strong>  
            </div>
          </div>
          <ul>
            <li class = "mar-top-10" ng-repeat = "section in quiz_sections | filter: titleFilter" ng-controller = "sectionCtrl">
              <div class = "mar-top-10">
                <span class = "col-xs-7">
                  {{section.title}}
                </span>
                <span class = "col-xs-5">
                  <span class = "glyphicon glyphicon-plus-sign"></span>
                  <span class = "glyphicon glyphicon-edit"></span>
                  <span class = "glyphicon glyphicon-trash"></span>
                </span>
              </div>    
            </li> 
          </ul>
        </div>              

        <div class = "col-xs-8 right-list mar-top-20">
          <div class = "row">
            <div class = "col-xs-12">
              <input type = "text"  ng-model = "quiz_bank.title"  class = "form-control input-sm"  placeholder = "Enter Title">
            </div>
          </div>
          <div class = "row mar-top-10">
            <div class = "col-xs-2">
              <div class = "row">
                <div class = "col-xs-12">
                  <input type = "text" ng-model = "quiz_bank.subject" class = "form-control input-sm" placeholder = "Subject">  
                </div>
              </div>  
            </div>    
            <div class = "col-xs-10">
              <div class = "row">
                <div class = "col-xs-3">
                  <div class = "row">
                    <div class = "col-xs-12">
                     <input type="text" ng-model="selected_tag" typeahead="tag.title for tag in tags | filter:$viewValue | limitTo:8" class="form-control input-sm" enter = "addMoreTags()" placeholder = "Tags">
                    </div>
                  </div>    
                </div>
                <div class = "col-xs-9">
                  <div class = "row">
                    <ul class = "tag-list">
                      <li ng-repeat = "show_tag in show_tags" ng-hide = "show_tags.length == 0 ">
                        <span class = "glyphicon glyphicon-tag" style = "color: blue;"></span>
                        <span>{{show_tag}}</span>
                      </li>
                    </ul>
                  </div>  
                </div>
              </div>  
            </div>
          </div>              
          <div class = "row mar-top-10">  
            <div class = "col-xs-12">
              <textarea ng-model = "quiz_bank.description" required = true  ng-minlength = "10" ng-maxlength = "50" class =  "form-control"  rows = 1 placeholder = "Description"></textarea>
            </div>
          </div>    
          <div class = "row mar-top-10">      
            <div class = "col-xs-12">
              <textarea ng-model = "quiz_bank.instructions" required = true ng-minlength= "10" ng-maxlength = "50" class = "form-control"  rows = 1 placeholder = "Instructions"></textarea>
          <div class = "mar-top-10" ng-repeat = "section in quiz_sections | filter: titleFilter" ng-controller = "sectionCtrl">
            <div class = "col-xs-12 well well-sm mar-top-10">
              <div class = "col-xs-4">
                <input type="hidden" ng-model="section_id" ng-init="section_id= section.id" value="{{section.id}}">
                {{section.title}}
              </div>
              <div class = "col-xs-4 pull-right">
                <a ng-Click = "deleteSection(section.id,$index)">
                  <span class = "glyphicon glyphicon-trash pull-right mar-left-5"></span>
                </a>
                <a ng-Click = "editSection(section)">
                  <span class = "glyphicon glyphicon-edit pull-right mar-left-5"></span>
                </a>
                
                <div class="dropdown">
                  <a class="dropdown-toggle" ng-Click = "AddQuestion(section.id,$index)">
                    <span class = "glyphicon glyphicon-plus-sign pull-right mar-left-5"></span>
                  </a>
                  <ul class="dropdown-menu pull-right mar-top-20">
                    <li ng-repeat="question in question_types">
                      <a ng-Click = "addNewQuestion(question)">{{question}}</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class = "col-xs-12 new-section-box mar-top-10 mar-bot-10" ng-if = "section == section_edit" ng-show = "section_edit">
              <span class = "col-xs-1">Title:</span>
              <span class = "col-xs-9">
                <input ng-model = "section_edit.title" type = "text" class = "form-control">
              </span>
              <span class = "col-xs-2 pull-right">
                <a ng-Click = "updateSection(section_edit)"> Save</a>
                <a ng-Click = "cancelEditSection()"> Cancel</a>
              </span>
            </div>
            <div class = "section-questions" ng-controller = "viewQuestionsCtrl">
              <div ng-include src="'/assets/partials/questions/all_questions.html'"></div>
            </div>
            <div>
              <div ng-Show = "show_true_false" ng-include src="'/assets/partials/questions/true_false_create.html'">
              </div>  
              <div ng-Show = "show_mcq" ng-include src="'/assets/partials/questions/mcq_create.html'">
              </div>
              <div ng-Show = "show_blank" ng-include src="'/assets/partials/questions/fill_in_the_blank_create.html'">
              </div>
              <div ng-Show = "show_open_ended" ng-include src="'/assets/partials/questions/open_ended_create.html'">
              </div>
            </div>     
            
          </div>                  
          <div class = "mar-top-20 new-section-div hide">
            <div class = "col-xs-12 new-section-box">
              <span class = "col-xs-1">Title:</span>
              <span class = "col-xs-9">
                <input ng-model = "newSection.title" type= "text" class= "form-control">
              </span>
              <span class = "col-xs-2 pull-right">
                <a class = "hidenewsectiom" ng-Click = "addSection(newSection.title)"> Save</a>
                <a class = "hidenewsection"> Cancel</a>
              </span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>                
              
